<template>
  <div class="thing-management-container"> <!-- ‰øÆÊîπÂÆπÂô® class -->
    <!--È°µÈù¢Âå∫Âüü-->
    <div class="page-view">
      <!-- ‰øÆÊîπÔºöÂèÇËÄÉ user.vue ÁöÑÊêúÁ¥¢ÂíåÊìç‰ΩúÂå∫Âüü -->
      <div class="table-operations">
        <a-space size="middle" align="center">
           <!-- ÊêúÁ¥¢Ê†áÁ≠æ -->
           <div class="search-label"> 
             <span>Áâ©ÂìÅÂêçÁß∞</span>
             <span style="margin-left: 4px;">üîç</span>
           </div>
           <!-- ÊêúÁ¥¢ËæìÂÖ•Ê°Ü -->
           <a-input-search
             placeholder="ËæìÂÖ•Áâ©ÂìÅÂêçÁß∞ÊêúÁ¥¢"
             enter-button="Êü•ËØ¢"
             allowClear
             @search="onSearch"
             @input="handleSearchInput"
             v-model:value="keyword"
             class="custom-search-input" 
             style="width: 300px"
           />
           <!-- Áä∂ÊÄÅÁ≠õÈÄâÊ°Ü -->
           <a-select
             v-model:value="filterStatus"
             placeholder="Á≠õÈÄâÁä∂ÊÄÅ"
             style="width: 120px; margin-left: 8px;"
             @change="handleFilterChange"
             allowClear
           >
             <a-select-option value="">ÂÖ®ÈÉ®</a-select-option>
             <a-select-option value="0">Êú™ÂÆ°Ê†∏</a-select-option>
             <a-select-option value="1">Â∑≤‰∏äÊû∂</a-select-option>
             <a-select-option value="2">Â∑≤‰∏ãÊû∂</a-select-option>
           </a-select>
           <!-- Âà∑Êñ∞ÊåâÈíÆ -->
           <a-button @click="getDataList()" class="refresh-button">
             <template #icon><ReloadOutlined /></template>
             Âà∑Êñ∞
           </a-button>
           <!-- ‰øùÁïôÊñ∞Â¢ûÂíåÊâπÈáèÂà†Èô§ÊåâÈíÆ -->

           <a-button @click="handleBatchDelete" danger>ÊâπÈáèÂà†Èô§</a-button>
        </a-space>
      </div>
      <!-- ‰øÆÊîπÔºöÊ∑ªÂä† class="thing-table" -->
      <a-table
        size="middle"
        rowKey="id"
        :loading="data.loading"
        :columns="columns as import('ant-design-vue').TableColumnsType"
        :data-source="data.dataList"
        :scroll="{ x: 'max-content' }"
        :row-selection="rowSelection"
        :pagination="{
            size: 'default',
            current: data.page,
            pageSize: data.pageSize,
            onChange: (current) => (data.page = current),
            showSizeChanger: false,
            showTotal: (total) => `ÂÖ±${total}Êù°Êï∞ÊçÆ`,
            style: { marginTop: '16px' } // Ê∑ªÂä†ÂàÜÈ°µÂô®‰∏äËæπË∑ù
          }"
        class="thing-table"
      >
        <template #bodyCell="{ text, record, index, column }">
          <!-- Êñ∞Â¢ûÔºöÂõæÁâáÂàóÊ∏≤Êüì -->
          <template v-if="column.key === 'cover'">
            <a-avatar :src="record.cover" shape="square" :size="64">
              <template #icon><FileImageOutlined /></template>
            </a-avatar>
          </template>
          <!-- Êñ∞Â¢ûÔºöÂèëÂ∏ÉËÄÖÂàóÊ∏≤Êüì -->
          <template v-else-if="column.key === 'username'">
            <span>{{ record.user?.username || 'N/A' }}</span>
          </template>
          <!-- ‰øÆÊîπÔºöÁä∂ÊÄÅÂàóÊ∏≤Êüì -->
          <template v-else-if="column.key === 'status'">
            <a-tag :color="getStatusTagColor(record.status)">
              {{ getStatusText(record.status) }}
            </a-tag>
          </template>
          <!-- ‰øÆÊîπÔºöÊìç‰ΩúÂàóÊ∏≤Êüì -->
          <template v-else-if="column.key === 'operation'">
            <a-space size="small">
              <!-- Êü•ÁúãËØ¶ÊÉÖÊåâÈíÆ (‰øùÊåÅ‰∏çÂèò) -->
              <a-button type="primary" size="small" @click="handleViewDetail(record)">
                <template #icon><EyeOutlined /></template>
                ËØ¶ÊÉÖ
              </a-button>

              <!-- ‰øÆÊîπÔºöÂÆ°Ê†∏Êìç‰Ωú (Áä∂ÊÄÅ‰∏∫ 0 Êó∂ÊòæÁ§∫) -->
              <template v-if="record.status === '0'">
                 <a-dropdown :trigger="['hover']"> <!-- ‰øÆÊîπ trigger ‰∏∫ hover -->
                   <template #overlay>
                     <a-menu @click="({ key }) => handleAuditMenuClick(key, record)">
                       <a-menu-item key="approve" class="audit-menu-item approve">
                         <CheckOutlined />ÈÄöËøáÂÆ°Ê†∏
                       </a-menu-item>
                       <a-menu-item key="reject" class="audit-menu-item reject">
                         <CloseOutlined />ÊãíÁªùÂÆ°Ê†∏
                       </a-menu-item>
                     </a-menu>
                   </template>
                   <!-- Ê∑ªÂä† class="audit-dropdown-button" -->
                   <a-button size="small" class="audit-dropdown-button">
                     ÂÆ°Ê†∏ <DownOutlined />
                   </a-button>
                 </a-dropdown>
              </template>

              <!-- ‰∏ãÊû∂Êìç‰Ωú (Áä∂ÊÄÅ‰∏∫ 1 Êó∂ÊòæÁ§∫) -->
              <template v-if="record.status === '1'">
                <a-popconfirm
                  title="Á°ÆÂÆö‰∏ãÊû∂ËØ•Áâ©ÂìÅÂêóÔºü"
                  ok-text="ÊòØ"
                  cancel-text="Âê¶"
                  @confirm="updateThingStatus(record, '2')"
                >
                  <a-button type="primary" danger size="small">
                    <template #icon><ArrowDownOutlined /></template>
                    ‰∏ãÊû∂
                  </a-button>
                </a-popconfirm>
              </template>

              <!-- ‰∏äÊû∂Êìç‰Ωú (Áä∂ÊÄÅ‰∏∫ 2 Êó∂ÊòæÁ§∫) -->
              <template v-if="record.status === '2'">
                <a-popconfirm
                  title="Á°ÆÂÆöÈáçÊñ∞‰∏äÊû∂ËØ•Áâ©ÂìÅÂêóÔºü"
                  ok-text="ÊòØ"
                  cancel-text="Âê¶"
                  @confirm="updateThingStatus(record, '1')"
                >
                  <a-button type="primary" size="small" style="background-color: #52c41a; border-color: #52c41a;">
                    <template #icon><ArrowUpOutlined /></template>
                    ‰∏äÊû∂
                  </a-button>
                </a-popconfirm>
              </template>

            </a-space>
          </template>
        </template>
      </a-table>
    </div>

    <!-- Êü•Áúã/ÁºñËæëËØ¶ÊÉÖÂºπÁ™óÂå∫Âüü -->
    <div>
      <!-- ‰øÆÊîπÔºöË∞ÉÊï¥ Modal Ê†∑ÂºèÔºåÊ∑ªÂä† :ok-button-props Âíå :cancel-button-props -->
      <a-modal
        :visible="modal.visile"
        :forceRender="true"
        :title="modal.title"
        width="880px"
        :ok-text="modal.mode === 'view' ? '' : 'Á°ÆËÆ§'"
        :cancel-text="modal.mode === 'view' ? 'ÂÖ≥Èó≠' : 'ÂèñÊ∂à'"
        @cancel="handleCancel"
        @ok="handleOk"
        wrapClassName="thing-detail-modal"
        :ok-button-props="{ style: { display: modal.mode === 'view' ? 'none' : '' } }"
      >
        <!-- ‰øÆÊîπÔºöÊ∑ªÂä† modal-body Á±ª -->
        <div class="modal-body">
          <!-- ‰øÆÊîπÔºöÁªëÂÆö disabled Â±ûÊÄß -->
          <a-form ref="myform" :label-col="{ style: { width: '80px' } }" :model="modal.form" :rules="modal.rules">
            <a-row :gutter="24">
              <a-col span="24">
                <a-form-item label="ÂØªÁâ©Ê†áÈ¢ò" name="title">
                  <a-input placeholder="ËØ∑ËæìÂÖ•" v-model:value="modal.form.title" :disabled="modal.mode === 'view'" />
                </a-form-item>
              </a-col>
              <!-- Êñ∞Â¢ûÔºöÂèëÂ∏ÉËÄÖ (Âè™ËØª) -->
              <a-col span="12">
                 <a-form-item label="ÂèëÂ∏ÉËÄÖ">
                   <span class="form-item-readonly-text">{{ modal.form.user?.username || 'N/A' }}</span>
                 </a-form-item>
              </a-col>
              <!-- Êñ∞Â¢ûÔºöÂú∞Âå∫ (Âè™ËØª) -->
              <a-col span="12">
                 <a-form-item label="‰∏¢Â§±Âú∞Âå∫">
                   <span class="form-item-readonly-text">{{ modal.form.location || 'Êú™Â°´ÂÜô' }}</span>
                 </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="Áâ©ÂìÅÂàÜÁ±ª" name="classification">
                  <a-select placeholder="ËØ∑ÈÄâÊã©" allowClear :options="modal.cData"
                    :field-names="{ label: 'title', value: 'id' }" v-model:value="modal.form.classification" :disabled="modal.mode === 'view'" />
                </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="Ê†áÁ≠æ">
                  <a-select mode="multiple" placeholder="ËØ∑ÈÄâÊã©" allowClear v-model:value="modal.form.tag" :disabled="modal.mode === 'view'">
                    <template v-for="item in modal.tagData">
                      <a-select-option :value="item.id">{{ item.title }}</a-select-option>
                    </template>
                  </a-select>
                </a-form-item>
              </a-col>
              <a-col span="24">
                <a-form-item label="ÁÖßÁâá">
                  <!-- ‰øÆÊîπÔºöÊ†πÊçÆÊ®°ÂºèÊòæÁ§∫‰∏ä‰º†Âô®ÊàñÂõæÁâá -->
                  <template v-if="modal.mode === 'edit'">
                    <a-upload-dragger name="file" accept="image/*" :multiple="false" :before-upload="handleBeforeUpload"
                      v-model:file-list="fileList">
                      <p class="ant-upload-drag-icon">
                        <template v-if="modal.form.coverUrl">
                          <img :src="modal.form.coverUrl" style="width: 60px; height: 80px" />
                        </template>
                        <template v-else>
                          <file-image-outlined />
                        </template>
                      </p>
                      <p class="ant-upload-text"> ËØ∑ÈÄâÊã©Ë¶Å‰∏ä‰º†ÁöÑÂõæÁâá </p>
                    </a-upload-dragger>
                  </template>
                  <template v-else>
                     <div v-if="modal.form.coverUrl" class="image-preview-container">
                       <a-image :width="100" :src="modal.form.coverUrl" />
                     </div>
                     <span v-else class="form-item-readonly-text">Êó†ÁÖßÁâá</span>
                  </template>
                </a-form-item>
              </a-col>

              <a-col span="24">
                <a-form-item label="Áâ©ÂìÅÁÆÄ‰ªã">
                  <a-textarea placeholder="ËØ∑ËæìÂÖ•" v-model:value="modal.form.description" :disabled="modal.mode === 'view'" />
                </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="Â•ñÂä±ÁßØÂàÜ" name="price">
                  <!-- ‰øÆÊîπÔºöÊü•ÁúãÊ®°Âºè‰∏ãÊòæÁ§∫ÊñáÊú¨ -->
                  <a-input-number v-if="modal.mode === 'edit'" placeholder="ËØ∑ËæìÂÖ•" :min="0" v-model:value="modal.form.price" style="width: 100%" />
                  <span v-else class="form-item-readonly-text">{{ modal.form.price !== undefined ? modal.form.price + ' ÁßØÂàÜ' : 'Êú™ËÆæÁΩÆ' }}</span>
                </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="ËÅîÁ≥ªÂè∑Á†Å">
                  <a-input-number v-if="modal.mode === 'edit'" placeholder="ËØ∑ËæìÂÖ•" :min="0" v-model:value="modal.form.mobile" style="width: 100%" />
                   <span v-else class="form-item-readonly-text">{{ modal.form.mobile || 'Êú™Êèê‰æõ' }}</span>
                </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="‰∏¢Â§±Âú∞Âå∫">
                   <!-- ‰øÆÊîπÔºöÊü•ÁúãÊ®°Âºè‰∏ãÊòæÁ§∫ÊñáÊú¨ -->
                   <el-cascader v-if="modal.mode === 'edit'" :options="modal.regionDatas" v-model="selectedOptions" placeholder="ËØ∑ÈÄâÊã©"
                     @change="handleChange"></el-cascader>
                   <span v-else class="form-item-readonly-text">{{ modal.form.location || 'Êú™Â°´ÂÜô' }}</span>
                </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="ËØ¶ÁªÜÂú∞ÂùÄ">
                   <a-input v-if="modal.mode === 'edit'" placeholder="ËØ∑ËæìÂÖ•ËØ¶ÁªÜÂú∞ÂùÄ" v-model:value="modal.form.detail_location" />
                   <span v-else class="form-item-readonly-text">{{ modal.form.detail_location || 'Êú™Â°´ÂÜô' }}</span>
                </a-form-item>
              </a-col>
              <a-col span="12">
                <a-form-item label="Áä∂ÊÄÅ" name="status">
                   <!-- ‰ΩøÁî®ËæÖÂä©ÂáΩÊï∞ÊòæÁ§∫Áä∂ÊÄÅÊñáÊú¨ -->
                   <span class="form-item-readonly-text">{{ getStatusText(modal.form.status) }}</span>
                </a-form-item>
              </a-col>
            </a-row>
          </a-form>
        </div>
      </a-modal>
    </div>

    <!-- Êñ∞Â¢ûÔºöÊãíÁªùÁêÜÁî±ËæìÂÖ•Ê®°ÊÄÅÊ°Ü -->
    <a-modal
      v-model:visible="rejectModal.visible"
      title="ËæìÂÖ•ÊãíÁªùÁêÜÁî±"
      ok-text="Á°ÆËÆ§ÊãíÁªù"
      cancel-text="ÂèñÊ∂à"
      @ok="confirmReject"
      @cancel="cancelReject"
      :confirm-loading="rejectModal.loading"
    >
      <a-textarea
        v-model:value="rejectModal.reason"
        placeholder="ËØ∑ËæìÂÖ•ÊãíÁªùÂÆ°Ê†∏ÁöÑÁêÜÁî±..."
        :rows="4"
      />
    </a-modal>

  </div>
</template>

<script setup lang="ts">

// Define the handleBeforeUpload method
const handleBeforeUpload = (file: File) => {
  console.log('File before upload:', file);
  // Add any validation or processing logic here
  return true; // Return true to proceed with the upload
};
// --- ÂØºÂÖ• ---
// ‰øÆÊîπÔºöÂØºÂÖ• EyeOutlined, DeleteOutlined
import { FileImageOutlined, ReloadOutlined, EyeOutlined, ArrowUpOutlined, ArrowDownOutlined, CheckOutlined, CloseOutlined, DownOutlined } from '@ant-design/icons-vue'; // ÂØºÂÖ•ÂõæÊ†á
import { FormInstance, message, SelectProps, Modal } from 'ant-design-vue';

// Define DataItem type if not imported
type DataItem = {
  id: string | number;
  [key: string]: any;
};
import { codeToText, regionData } from 'element-china-area-data';
import { listApi as listClassificationApi } from '/@/api/admin/classification';
import { listApi as listTagApi } from '/@/api/admin/tag';
import { createApi, deleteApi, listApi, updateApi } from '/@/api/admin/thing';
import { BASE_URL } from '/@/store/constants';
import { ref, reactive, onMounted } from 'vue'; // Á°Æ‰øùÂØºÂÖ• ref, reactive, onMounted
import { debounce } from 'lodash-es'; // ÂØºÂÖ• debounce

let selectedOptions = ref([])

// --- ‰øÆÊîπÔºöË°®Ê†ºÂàóÂÆö‰πâ ---
const columns = reactive([
  {
    title: 'Â∫èÂè∑',
    dataIndex: 'index',
    key: 'index',
    width: 60,
    align: 'center',
  },
  // Êñ∞Â¢ûÔºöÂõæÁâáÂàó
  {
    title: 'ÂõæÁâá',
    dataIndex: 'cover',
    key: 'cover',
    width: 100,
    align: 'center',
  },
  {
    title: 'Ê†áÈ¢ò',
    dataIndex: 'title',
    key: 'title',
  },
  // Êñ∞Â¢ûÔºöÂèëÂ∏ÉËÄÖÂàó
  {
    title: 'ÂèëÂ∏ÉËÄÖ',
    // dataIndex: ['user', 'username'], // ÂÅáËÆæÂêéÁ´ØËøîÂõû user ÂØπË±°ÂµåÂ•ó username
    key: 'username', // ‰ΩøÁî® key ÂåπÈÖç template
    align: 'center',
  },

  {
    title: 'Âú∞Âå∫',
    dataIndex: 'location',
    key: 'location',
  },
  {
    title: 'Áâ©ÂìÅÁÆÄ‰ªã',
    dataIndex: 'description',
    key: 'description',
    customRender: ({ text, record, index, column }) => (text ? text.substring(0, 10) + '...' : '--'),
  },
  {
    title: 'Áä∂ÊÄÅ',
    dataIndex: 'status',
    key: 'status',
    align: 'center',
    width: 100,
    // customRender Â∑≤ÁßªËá≥ template
  },
  {
    title: 'Êìç‰Ωú',
    dataIndex: 'action',
    key: 'operation',
    align: 'center',
    fixed: 'right',
    width: 140,
  },
]);

// --- Êñ∞Â¢ûÔºöÊêúÁ¥¢ÂíåÁ≠õÈÄâÁä∂ÊÄÅ ---
const keyword = ref('');
const filterStatus = ref<string>(''); // Á≠õÈÄâÁä∂ÊÄÅ

// Êñá‰ª∂ÂàóË°®
const fileList = ref<any[]>([]);

// È°µÈù¢Êï∞ÊçÆ
const data = reactive({
  dataList: [],
  loading: false,
  // keyword: '', // ÁßªÂä®Âà∞ ref
  selectedRowKeys: [] as any[],
  pageSize: 10,
  page: 1,
});

//Ëé∑ÂèñÂú∞ÁÇπ
const handleChange = () => {
    if (
        selectedOptions.value[0] != null &&
        selectedOptions.value[1] != null &&
        selectedOptions.value[2] != null
    ) {
        modal.form.location =
            codeToText[selectedOptions.value[0]] +
            '/' +
            codeToText[selectedOptions.value[1]] +
            '/' +
            codeToText[selectedOptions.value[2]]

    }
}

// ÂºπÁ™óÊï∞ÊçÆÊ∫ê
const modal = reactive({
  visile: false,
  // editFlag: false; // ‰ΩøÁî® mode Êõø‰ª£
  mode: 'view' as 'view' | 'edit', // Êñ∞Â¢ûÔºöÊ®°ÂºèÔºå'view' Êàñ 'edit'
  title: '',
  cData: [],
  tagData: [] as Array<{ id: string | number; title: string }>,
  regionDatas: regionData,
  form: {
    id: undefined,
    title: undefined,
    classification: undefined,
    tag: [],
    price: undefined, // Áî®‰∫éÂ•ñÂä±ÁßØÂàÜ
    // points: undefined, // ÁßªÈô§ÈáçÂ§çÁöÑ points
    mobile: undefined,
    location: '',
    detail_location: undefined as string | undefined, // Êñ∞Â¢ûÔºöËØ¶ÁªÜÂú∞ÂùÄ
    status: undefined, // Áä∂ÊÄÅÂÄºÂèØËÉΩÊòØ '0', '1', '2'
    cover: undefined,
    coverUrl: undefined,
    imageFile: null as File | null,
    description: undefined,
    user: undefined as { username: string } | undefined, // Êñ∞Â¢ûÔºöÁî®‰∫éÂ≠òÂÇ®Áî®Êà∑‰ø°ÊÅØ
  },
  rules: {
    title: [{ required: true, message: 'ËØ∑ËæìÂÖ•ÂêçÁß∞', trigger: 'change' }],
    classification: [{ required: true, message: 'ËØ∑ÈÄâÊã©ÂàÜÁ±ª', trigger: 'change' }],
    // status: [{ required: true, message: 'ËØ∑ÈÄâÊã©Áä∂ÊÄÅ', trigger: 'change' }], // ÁßªÈô§Áä∂ÊÄÅÈ™åËØÅ
  },
});

// Êñ∞Â¢ûÔºöÊãíÁªùÁêÜÁî±Ê®°ÊÄÅÊ°ÜÁä∂ÊÄÅ
const rejectModal = reactive({
  visible: false,
  loading: false,
  reason: '',
  currentRecord: null as any | null, // Â≠òÂÇ®ÂΩìÂâçË¶ÅÊãíÁªùÁöÑËÆ∞ÂΩï
});

const myform = ref<FormInstance>();

onMounted(() => {
  getDataList({ status: filterStatus.value });
  getCDataList();
  getTagDataList();
});

// --- ‰øÆÊîπÔºögetDataList Êé•ÂèóÂèÇÊï∞ ---
const getDataList = (params: { keyword?: string; status?: string } = {}) => {
  data.loading = true;
  const apiParams: Record<string, any> = {
    // keyword: data.keyword, // ‰ΩøÁî® ref keyword
    keyword: params.keyword !== undefined ? params.keyword : keyword.value,
  };
  // Ê∑ªÂä†Áä∂ÊÄÅÁ≠õÈÄâÂèÇÊï∞
  if (params.status !== undefined && params.status !== '') {
    apiParams.status = params.status;
  } else if (filterStatus.value !== '') {
     apiParams.status = filterStatus.value;
  }

  listApi(apiParams) // ‰º†ÈÄíÂèÇÊï∞
    .then((res) => {
      data.loading = false;
      console.log(res); // Á°ÆËÆ§ res.data ‰∏≠ÂåÖÂê´ cover Âíå user.username
      res.data.forEach((item: any, index: any) => {
        item.index = (data.page - 1) * data.pageSize + index + 1; // ‰øÆÂ§çÂ∫èÂè∑ËÆ°ÁÆó
        // item.price = item.price; // price ‰∏çÂÜçÈúÄË¶ÅÁâπÊÆäÂ§ÑÁêÜ
      });
      data.dataList = res.data;
      // ÂèØËÉΩÈúÄË¶ÅÊõ¥Êñ∞ÊÄªÊï∞Áî®‰∫éÂàÜÈ°µ data.total = res.total;
    })
    .catch((err) => {
      data.loading = false;
      console.log(err);
      message.error('Ëé∑ÂèñÂàóË°®Â§±Ë¥•');
    });
};

const getCDataList = () => {
  listClassificationApi({}).then((res) => {
    modal.cData = res.data;
  });
};
const getTagDataList = () => {
  listTagApi({}).then((res) => {
    res.data.forEach((item, index) => {
      item.index = index + 1;
    });
    modal.tagData = res.data;
  });
};

// --- ‰øÆÊîπÔºöÁßªÈô§ onSearchChangeÔºå‰ΩøÁî® handleSearchInput ---
// const onSearchChange = (e: Event) => {
//   data.keyword = e?.target?.value;
//   console.log(data.keyword);
// };

// --- Êñ∞Â¢ûÔºöÊêúÁ¥¢Èò≤ÊäñÂ§ÑÁêÜ ---
const handleSearchInput = debounce(() => {
  data.page = 1; // ÈáçÁΩÆÂà∞Á¨¨‰∏ÄÈ°µ
  onSearch();
}, 500);

// --- ‰øÆÊîπÔºöonSearch Ë∞ÉÁî® getDataList ---
const onSearch = () => {
  data.page = 1; // ÈáçÁΩÆÂà∞Á¨¨‰∏ÄÈ°µ
  getDataList({ keyword: keyword.value, status: filterStatus.value });
};

// --- Êñ∞Â¢ûÔºöÂ§ÑÁêÜÁ≠õÈÄâÁä∂ÊÄÅÂèòÂåñ ---
const handleFilterChange = () => {
  data.page = 1; // ÈáçÁΩÆÂà∞Á¨¨‰∏ÄÈ°µ
  getDataList({ keyword: keyword.value, status: filterStatus.value });
};

const rowSelection = ref({
  onChange: (selectedRowKeys: (string | number)[], selectedRows: DataItem[]) => {
    console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);
    data.selectedRowKeys = selectedRowKeys;
  },
});

const handleAdd = () => {
  resetModal();
  modal.mode = 'edit'; // ‰øÆÊîπÔºöËÆæÁΩÆÊ®°Âºè‰∏∫ edit
  modal.visile = true;
  // modal.editFlag = false; // ÁßªÈô§
  modal.title = 'Êñ∞Â¢û';
  // ÈáçÁΩÆ
  for (const key in modal.form) {
    modal.form[key] = undefined;
  }
  modal.form.cover = undefined;
  modal.form.user = undefined; // ÈáçÁΩÆ user
};

// ‰øÆÊîπÔºöhandleEdit Áé∞Âú®Âè™Áî®‰∫éÁºñËæëÔºåÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØù
const handleEdit = (record: any) => {
  resetModal();
  modal.mode = 'edit'; // ‰øÆÊîπÔºöËÆæÁΩÆÊ®°Âºè‰∏∫ edit
  modal.visile = true;
  // modal.editFlag = true; // ÁßªÈô§
  modal.title = 'ÁºñËæëËØ¶ÊÉÖ'; // ‰øÆÊîπÊ†áÈ¢ò
  // ÈáçÁΩÆ
  for (const key in modal.form) {
    modal.form[key] = undefined;
  }
  selectedOptions.value = []; // ‰øÆÊ≠£Ôºö‰ΩøÁî® .value
  for (const key in record) {
    if (record[key] !== undefined) { // Ê£ÄÊü• undefined
      modal.form[key] = record[key];
    }
  }
  // Â°´ÂÖÖ user ‰ø°ÊÅØ
  modal.form.user = record.user;
  modal.form.detail_location = record.detail_location; // Â°´ÂÖÖËØ¶ÁªÜÂú∞ÂùÄ

  if (modal.form.cover) {
    modal.form.coverUrl = modal.form.cover;
    modal.form.cover = undefined;
  }
};

// ‰øÆÊîπÔºöhandleViewDetail ËÆæÁΩÆ‰∏∫Êü•ÁúãÊ®°Âºè
const handleViewDetail = (record: any) => {
  resetModal();
  modal.mode = 'view'; // ‰øÆÊîπÔºöËÆæÁΩÆÊ®°Âºè‰∏∫ view
  modal.visile = true;
  // modal.editFlag = false; // ÁßªÈô§
  modal.title = 'ËØ¶ÊÉÖ'; // ‰øÆÊîπÊ†áÈ¢ò
  // ÈáçÁΩÆ
  for (const key in modal.form) {
    modal.form[key] = undefined;
  }
  selectedOptions.value = []; // ‰øÆÊ≠£Ôºö‰ΩøÁî® .value
  for (const key in record) {
     if (record[key] !== undefined) { // Ê£ÄÊü• undefined
       modal.form[key] = record[key];
     }
  }
  // Â°´ÂÖÖ user ‰ø°ÊÅØ
  modal.form.user = record.user;
  modal.form.detail_location = record.detail_location; // Â°´ÂÖÖËØ¶ÁªÜÂú∞ÂùÄ

  if (modal.form.cover) {
    modal.form.coverUrl = modal.form.cover;
    modal.form.cover = undefined;
  }
};

// ÁßªÈô§ confirmDelete ÊñπÊ≥ï
// const confirmDelete = (record: any) => { ... };

// ÁßªÈô§ handleBatchDelete ÊñπÊ≥ï Êàñ Ê≥®ÈáäÊéâÂÖ∂ÂÜÖÂÆπÔºåÂõ†‰∏∫ÊâπÈáèÂà†Èô§ÊåâÈíÆ‰πüÁßªÈô§‰∫Ü
const handleBatchDelete = () => {
  console.log('ÊâπÈáèÂà†Èô§ÂäüËÉΩÂ∑≤ÁßªÈô§');
  message.info('ÊâπÈáèÂà†Èô§ÂäüËÉΩÂ∑≤ÁßªÈô§');
  // ... (ÂéüÊúâÁöÑÂà†Èô§ÈÄªËæë)
};

// Êñ∞Â¢ûÔºöÂàáÊç¢Áâ©ÂìÅÁä∂ÊÄÅ (‰∏äÊû∂/‰∏ãÊû∂)
const updateThingStatus = (record: any, targetStatus: '1' | '2', reason?: string) => {
  let actionText = '';
  if (record.status === '0' && targetStatus === '1') actionText = 'ÈÄöËøáÂÆ°Ê†∏';
  else if (record.status === '0' && targetStatus === '2') actionText = 'ÊãíÁªùÂÆ°Ê†∏';
  else if (record.status === '1' && targetStatus === '2') actionText = '‰∏ãÊû∂';
  else if (record.status === '2' && targetStatus === '1') actionText = '‰∏äÊû∂';
  else {
    console.warn('Êó†ÊïàÁöÑÁä∂ÊÄÅËΩ¨Êç¢:', record.status, '->', targetStatus);
    return;
  }

  const formData = new FormData();
  formData.append('id', record.id);
  formData.append('status', targetStatus);
  formData.append('type', 'lost'); // Êñ∞Â¢ûÔºöÊ∑ªÂä†Á±ªÂûãÂèÇÊï∞
  // Â¶ÇÊûúÊúâÊãíÁªùÁêÜÁî±ÔºåÊ∑ªÂä†Âà∞ FormData
  if (targetStatus === '2' && reason) {
    formData.append('comment', reason); // ÂÅáËÆæÂêéÁ´ØÊé•Êî∂ÊãíÁªùÁêÜÁî±ÁöÑÂ≠óÊÆµÊòØ 'comment'
  }

  // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅÔºàÂ¶ÇÊûúÊòØ‰ªéÊãíÁªùÊ®°ÊÄÅÊ°ÜËß¶ÂèëÔºâ
  if (rejectModal.visible) rejectModal.loading = true;

  updateApi({ id: record.id }, formData)
    .then((res) => {
      message.success(`Áâ©ÂìÅÂ∑≤${actionText}`);
      getDataList(); // Âà∑Êñ∞ÂàóË°®
      if (rejectModal.visible) cancelReject(); // ÂÖ≥Èó≠ÊãíÁªùÊ®°ÊÄÅÊ°Ü
    })
    .catch((err) => {
      console.error(err);
      message.error(`${actionText}Êìç‰ΩúÂ§±Ë¥•: ${err.msg || ''}`);
    })
    .finally(() => {
      if (rejectModal.visible) rejectModal.loading = false; // ÁªìÊùüÂä†ËΩΩÁä∂ÊÄÅ
    });
};

// Êñ∞Â¢ûÔºöÊòæÁ§∫ÊãíÁªùÁêÜÁî±Ê®°ÊÄÅÊ°Ü
const showRejectModal = (record: any) => {
  rejectModal.currentRecord = record;
  rejectModal.reason = ''; // Ê∏ÖÁ©∫‰∏äÊ¨°ÁöÑÁêÜÁî±
  rejectModal.visible = true;
};

// Êñ∞Â¢ûÔºöÁ°ÆËÆ§ÊãíÁªùÊìç‰Ωú
const confirmReject = () => {
  if (!rejectModal.reason.trim()) {
    message.warning('ËØ∑ËæìÂÖ•ÊãíÁªùÁêÜÁî±');
    return;
  }
  if (rejectModal.currentRecord) {
    updateThingStatus(rejectModal.currentRecord, '2', rejectModal.reason.trim());
  }
};

// Êñ∞Â¢ûÔºöÂèñÊ∂àÊãíÁªùÊìç‰Ωú
const cancelReject = () => {
  rejectModal.visible = false;
  rejectModal.loading = false;
  rejectModal.currentRecord = null;
  rejectModal.reason = '';
};


// ‰øÆÊîπÔºöhandleOk ‰∏≠ÁßªÈô§ mobile ÁöÑ append ---
const handleOk = () => {
  if (modal.mode === 'view') {
    hideModal(); // Êü•ÁúãÊ®°Âºè‰∏ãÔºåÁ°ÆËÆ§ÊåâÈíÆË°å‰∏∫Á≠âÂêå‰∫éÂÖ≥Èó≠
    return;
  }

  myform.value
    ?.validate()
    .then(() => {
      const formData = new FormData();
      // Ê£ÄÊü• modal.form.id ÊòØÂê¶Â≠òÂú®
      if (modal.form.id !== undefined) {
        formData.append('id', modal.form.id);
      }
      formData.append('title', modal.form.title || '');
      if (modal.form.classification) {
        formData.append('classification', modal.form.classification);
      }
      if (modal.form.tag) {
        modal.form.tag.forEach(function (value) {
          if (value) {
            formData.append('tag', value);
          }
        });
      }
      if (modal.form.imageFile) {
        formData.append('cover', modal.form.imageFile);
      }
      formData.append('description', modal.form.description || '');
      formData.append('price', modal.form.price !== undefined ? String(modal.form.price) : '0'); // Á°Æ‰øù price ÊòØÂ≠óÁ¨¶‰∏≤
      if (modal.form.location) {
        formData.append('location', modal.form.location);
      }
      // Êñ∞Â¢ûÔºöÊèê‰∫§ detail_location
      if (modal.form.detail_location) {
        formData.append('detail_location', modal.form.detail_location);
      }
      if (modal.form.status) {
        formData.append('status', modal.form.status);
      } else {
         // Â¶ÇÊûúÊòØÊñ∞Â¢ûÔºåÂèØ‰ª•Áªô‰∏Ä‰∏™ÈªòËÆ§Áä∂ÊÄÅÔºå‰æãÂ¶Ç '0' (‰∏äÊû∂)
         if (modal.mode === 'edit' && modal.form.id === undefined) { // ‰ªÖÂú®Êñ∞Â¢ûÊó∂ËÆæÁΩÆÈªòËÆ§Áä∂ÊÄÅ
            formData.append('status', '0');
         }
      }

      // Ê£ÄÊü• modal.form.id ÊòØÂê¶Â≠òÂú®Êù•Âà§Êñ≠ÊòØÊõ¥Êñ∞ËøòÊòØÂàõÂª∫
      if (modal.form.id !== undefined) {
        updateApi({ id: modal.form.id }, formData)
          .then((res) => {
            hideModal();
            getDataList();
          })
          .catch((err) => {
            console.log(err);
            message.error(err.msg || 'Êìç‰ΩúÂ§±Ë¥•');
          });
      } else {
        createApi(formData)
          .then((res) => {
            hideModal();
            getDataList();
          })
          .catch((err) => {
            console.log(err);
            message.error(err.msg || 'Êìç‰ΩúÂ§±Ë¥•');
          });
      }
    })
    .catch((err) => {
      console.log('Ë°®ÂçïÈ™åËØÅÂ§±Ë¥•:', err);
    });
};

const handleCancel = () => {
  hideModal();
};

// ÊÅ¢Â§çË°®ÂçïÂàùÂßãÁä∂ÊÄÅ
const resetModal = () => {
  myform.value?.resetFields();
  fileList.value = [];
};

// ÂÖ≥Èó≠ÂºπÁ™ó
const hideModal = () => {
  modal.visile = false;
};

// Êñ∞Â¢ûÔºöËé∑ÂèñÁä∂ÊÄÅÊñáÊú¨ÁöÑËæÖÂä©ÂáΩÊï∞
const getStatusText = (status: string | undefined): string => {
  switch (status) {
    case '0': return 'Êú™ÂÆ°Ê†∏';
    case '1': return 'Â∑≤‰∏äÊû∂'; // ‰øÆÊîπÊñáÊú¨
    case '2': return 'Â∑≤‰∏ãÊû∂'; // ‰øÆÊîπÊñáÊú¨
    default: return 'Êú™Áü•Áä∂ÊÄÅ';
  }
};

// Êñ∞Â¢ûÔºöËé∑ÂèñÁä∂ÊÄÅ Tag È¢úËâ≤ÁöÑËæÖÂä©ÂáΩÊï∞
const getStatusTagColor = (status: string | undefined): string => {
  switch (status) {
    case '0': return 'orange'; // Êú™ÂÆ°Ê†∏ - Ê©ôËâ≤
    case '1': return 'success'; // Â∑≤‰∏äÊû∂ - ÁªøËâ≤
    case '2': return 'red';     // Â∑≤‰∏ãÊû∂ - Á∫¢Ëâ≤
    default: return 'default'; // Êú™Áü• - ÈªòËÆ§
  }
};

// Êñ∞Â¢ûÔºöÂ§ÑÁêÜÂÆ°Ê†∏‰∏ãÊãâËèúÂçïÁÇπÂáª‰∫ã‰ª∂
const handleAuditMenuClick = (key: string, record: any) => {
  if (key === 'approve') {
    Modal.confirm({
      title: 'Á°ÆÂÆöÈÄöËøáÂÆ°Ê†∏ÂêóÔºü',
      okText: 'ÊòØ',
      cancelText: 'Âê¶',
      onOk: () => {
        updateThingStatus(record, '1');
      },
    });
  } else if (key === 'reject') {
    showRejectModal(record);
  }
};
</script>

<style scoped lang="less">
/* --- ‰øÆÊîπ/Êñ∞Â¢ûÔºöÂèÇËÄÉ user.vue ÁöÑÊ†∑Âºè --- */
.thing-management-container { /* ‰øÆÊîπÂÆπÂô® class */
  padding: 20px;
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.page-view {
  min-height: 100%;
  /* background: #f6222238; */ /* ÁßªÈô§ËÉåÊôØËâ≤ */
  padding: 0; /* ÁßªÈô§ÂÜÖËæπË∑ùÔºåÁî±Áà∂ÂÆπÂô®ÊéßÂà∂ */
  display: flex;
  flex-direction: column;
}

.table-operations {
  margin-bottom: 24px;
  /* text-align: right; */ /* Êîπ‰∏∫Â∑¶ÂØπÈΩê */
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

/* ÁßªÈô§ÊóßÁöÑÊåâÈíÆÂè≥ËæπË∑ùËßÑÂàô */
/* .table-operations > button {
  margin-right: 8px;
} */

.thing-table { /* Êñ∞Â¢ûË°®Ê†º class */
  border: 1px solid #f0f0f0;
  border-radius: 4px;

  :deep(.ant-table-thead > tr > th) {
    background-color: #fffaf5; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue Ë°®Â§¥/Sider ËÉåÊôØËâ≤ */
    font-weight: 600;
    color: #333;
  }

  :deep(.ant-table-tbody > tr > td) {
    padding: 12px 16px;
  }

  :deep(.ant-avatar) {
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
}

:deep(.ant-table-cell) {
  .ant-btn {
    margin: 0 4px;
    border-radius: 10px;
  }
  .ant-divider-vertical {
    margin: 0;
  }
  a { /* Ë∞ÉÊï¥Êìç‰ΩúÈìæÊé•Èó¥Ë∑ù */
    margin: 0 4px;
  }
}

.search-label {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  background-color: #ff7e5f; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue ÊêúÁ¥¢Ê†áÁ≠æÊ©ôËâ≤ */
  color: #fff;
  border-radius: 12px;
  font-size: 12px;
  margin-right: 8px;
  height: 32px;
  box-sizing: border-box;
}

.custom-search-input {
  border-radius: 18px;
  overflow: hidden;
  display: inline-flex;
  border: 1px solid #d9d9d9;

  &:hover, &:focus-within {
    border-color: #1890ff;
  }

  :deep(.ant-input-affix-wrapper),
  :deep(.ant-input-search-button) {
      border: none !important;
  }
  :deep(.ant-input-search-button) {
      background-color: #ff7e5f; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue ÊêúÁ¥¢ÊåâÈíÆÊ©ôËâ≤ */
      border-color: #ff7e5f; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue ÊêúÁ¥¢ÊåâÈíÆÊ©ôËâ≤ */
      color: #fff;
      height: 30px;
      &:hover {
        background-color: #feb47b; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue ÊêúÁ¥¢ÊåâÈíÆÊ©ôËâ≤ hover */
        border-color: #feb47b; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue ÊêúÁ¥¢ÊåâÈíÆÊ©ôËâ≤ hover */
      }
  }
   :deep(.ant-input-affix-wrapper) {
     height: 30px;
     &:focus-within, &:hover {
        box-shadow: none;
     }
   }
}

.refresh-button {
  margin-left: 8px;
  border-radius: 6px;
  border: none;
  background-color: #40a9ff; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue Âà∑Êñ∞ÊåâÈíÆËìùËâ≤ */
  color: #fff;
  transition: background-color 0.3s;

  &:hover {
    background-color: #69c0ff; /* ‰øÆÊîπÔºöÂåπÈÖç user.vue Âà∑Êñ∞ÊåâÈíÆËìùËâ≤ hover */
  }
}

:deep(.ant-select) {
  .ant-select-selector {
    border-radius: 6px !important;
  }
}

/* ÂºπÁ™óÂÜÖ‰∏ä‰º†ÁªÑ‰ª∂Ê†∑ÂºèË∞ÉÊï¥ */
:deep(.ant-upload-drag) {
  background: #fafafa;
  border: 1px dashed #d9d9d9;
  border-radius: 4px;
  &:hover {
    border-color: #1890ff;
  }
}
:deep(.ant-upload-drag-icon img) {
  max-width: 100%;
  max-height: 80px;
  object-fit: contain;
}

/* ÂèØ‰ª•‰∏∫‰∏äÊû∂ÊåâÈíÆÊ∑ªÂä†ÁâπÂÆöÊ†∑Âºè */
:deep(.ant-btn-primary[style*="background-color: #52c41a"]) {
  &:hover, &:focus {
    background-color: #73d13d !important;
    border-color: #73d13d !important;
  }
}

/* Êñ∞Â¢ûÔºöÂè™ËØªÊñáÊú¨Ê†∑Âºè */
.form-item-readonly-text {
  color: #555; /* ËÆæÁΩÆÊñáÊú¨È¢úËâ≤ */
  line-height: 32px; /* ‰∏éËæìÂÖ•Ê°ÜÈ´òÂ∫¶ÂØπÈΩê */
  display: inline-block; /* Á°Æ‰øùË°åÈ´òÁîüÊïà */
  padding: 0 11px; /* Ê®°ÊãüËæìÂÖ•Ê°ÜÁöÑÂÜÖËæπË∑ù */
  width: 100%; /* Âç†ÊçÆÊï¥‰∏™ÂÆΩÂ∫¶ */
  background-color: #f5f5f5; /* Ê∑ªÂä†ÊµÖÁÅ∞Ëâ≤ËÉåÊôØ */
  border: 1px solid #d9d9d9; /* Ê∑ªÂä†ËæπÊ°Ü */
  border-radius: 4px; /* Ê∑ªÂä†ÂúÜËßí */
  cursor: text; /* Èº†Ê†áÊ†∑ÂºèÊîπ‰∏∫ÊñáÊú¨ */
  white-space: nowrap; /* Èò≤Ê≠¢ÊñáÊú¨Êç¢Ë°å */
  overflow: hidden; /* ÈöêËóèÊ∫¢Âá∫ÊñáÊú¨ */
  text-overflow: ellipsis; /* ÊòæÁ§∫ÁúÅÁï•Âè∑ */
}

/* Êñ∞Â¢ûÔºöÂõæÁâáÈ¢ÑËßàÂÆπÂô®Ê†∑Âºè */
.image-preview-container {
  padding: 8px;
  border: 1px dashed #d9d9d9;
  border-radius: 4px;
  background-color: #fafafa;
  display: inline-block; /* ‰ΩøÂÆπÂô®ÈÄÇÂ∫îÂÜÖÂÆπÂ§ßÂ∞è */
}

/* Êñ∞Â¢ûÔºöModal Ê†∑Âºè‰ºòÂåñ */
:deep(.thing-detail-modal .ant-modal-header) {
  background-color: #f0f2f5; /* ÊµÖÁÅ∞Ëâ≤Â§¥ÈÉ®ËÉåÊôØ */
  border-bottom: 1px solid #e8e8e8;
}

:deep(.thing-detail-modal .ant-modal-title) {
  color: #333; /* Ê∑±Ëâ≤Ê†áÈ¢ò */
}

:deep(.thing-detail-modal .ant-modal-body) {
  padding: 24px; /* Â¢ûÂä†ÂÜÖËæπË∑ù */
  background-color: #ffffff; /* ÁôΩËâ≤ÂÜÖÂÆπÂå∫Âüü */
}

:deep(.thing-detail-modal .ant-modal-footer) {
  background-color: #f0f2f5; /* ÊµÖÁÅ∞Ëâ≤ËÑöÈÉ®ËÉåÊôØ */
  border-top: 1px solid #e8e8e8;
  padding: 10px 24px; /* Ë∞ÉÊï¥ËÑöÈÉ®ÂÜÖËæπË∑ù */
}

/* Ë∞ÉÊï¥Ë°®ÂçïÈ°πÈó¥Ë∑ù */
:deep(.thing-detail-modal .ant-form-item) {
  margin-bottom: 16px; /* ÂáèÂ∞èË°®ÂçïÈ°πÂ∫ïÈÉ®Èó¥Ë∑ù */
}

/* Ë∞ÉÊï¥Âè™ËØªÁä∂ÊÄÅ‰∏ãÁöÑ Select ÁÆ≠Â§¥È¢úËâ≤ */
:deep(.ant-select-disabled .ant-select-arrow) {
  color: rgba(0, 0, 0, 0.25);
}

/* Êñ∞Â¢ûÔºöÂÆ°Ê†∏‰∏ãÊãâÊåâÈíÆÊ†∑Âºè */
.audit-dropdown-button {
  border-color: #1890ff; // ËìùËâ≤ËæπÊ°Ü
  color: #1890ff; // ËìùËâ≤ÊñáÂ≠ó
  background-color: #e6f7ff; // ÊµÖËìùËâ≤ËÉåÊôØ
  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1); // Âπ≥ÊªëËøáÊ∏°ÊïàÊûú

  &:hover {
    border-color: #40a9ff;
    color: #fff; // ÁôΩËâ≤ÊñáÂ≠ó
    background-color: #1890ff; // Ê∑±ËìùËâ≤ËÉåÊôØ
    transform: translateY(-2px); // ËΩªÂæÆ‰∏äÁßª
    box-shadow: 0 4px 8px rgba(24, 144, 255, 0.2); // Ê∑ªÂä†Èò¥ÂΩ±
  }

  &:active {
    transform: translateY(0); // ÁÇπÂáªÊó∂ÊÅ¢Â§çÂéü‰Ωç
    background-color: #096dd9; // Êõ¥Ê∑±ÁöÑËìùËâ≤ËÉåÊôØ
    border-color: #096dd9;
    box-shadow: none; // ÁßªÈô§Èò¥ÂΩ±
  }

  // ÂõæÊ†áÈ¢úËâ≤‰πüË∑üÈöèÂèòÂåñ
  .anticon {
    transition: color 0.3s;
  }
  &:hover .anticon {
    color: #fff;
  }
}

/* Êñ∞Â¢ûÔºöÂÆ°Ê†∏‰∏ãÊãâËèúÂçïÈ°πÊ†∑Âºè */
/* Â∞ùËØïÂ¢ûÂä†ÁâπÂºÇÊÄß */
:deep(.ant-dropdown-menu .ant-dropdown-menu-item.audit-menu-item) {
  transition: background-color 0.2s ease, color 0.2s ease;

  .anticon {
    margin-right: 8px;
    transition: transform 0.2s ease;
  }

  &:hover {
    /* ÈÄöÁî®ÊÇ¨ÂÅúËÉåÊôØËâ≤ÔºåÂ¶ÇÊûú approve/reject ÁöÑÊÇ¨ÂÅú‰∏çÁîüÊïàÔºåËøô‰∏™ÂèØËÉΩ‰ºöÁîüÊïà */
    background-color: #f0f0f0;

    .anticon {
       transform: scale(1.1);
    }
  }

  &.approve {
    color: #52c41a; // ÈªòËÆ§ÊñáÂ≠óÁªøËâ≤
    .anticon { color: #52c41a; }
    &:hover {
      background-color: #f6ffed; // ÊÇ¨ÂÅúËÉåÊôØÊµÖÁªø
      color: #52c41a; // ÊÇ¨ÂÅúÊñáÂ≠óÁªøËâ≤
    }
  }
  &.reject {
    color: #ff4d4f; // ÈªòËÆ§ÊñáÂ≠óÁ∫¢Ëâ≤
    .anticon { color: #ff4d4f; }
    &:hover {
      background-color: #fff1f0; // ÊÇ¨ÂÅúËÉåÊôØÊµÖÁ∫¢
      color: #ff4d4f; // ÊÇ¨ÂÅúÊñáÂ≠óÁ∫¢Ëâ≤
    }
  }
}

/* Â¶ÇÊûú‰∏äËø∞‰øÆÊîπ‰ªçÊó†ÊïàÔºåÂèØ‰ª•Â∞ùËØïÊõ¥È´òÁâπÂºÇÊÄßÊàñ !important (‰ªÖÁî®‰∫éÊµãËØï) */
/*
:deep(.ant-dropdown-menu-item.audit-menu-item.approve) {
  color: #52c41a !important;
}
:deep(.ant-dropdown-menu-item.audit-menu-item.approve:hover) {
  background-color: #f6ffed !important;
  color: #52c41a !important;
}
*/
</style>
